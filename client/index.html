<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alumni Connect - The Ultimate Alumni Network</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Theme colors -->
    <meta name="theme-color" content="#4A90E2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Alumni Connect">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/icon-192x192.png">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Theme Detection Script -->
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || 'auto';
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-mode');
            } else if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
            // 'auto' uses system preference detection via CSS
        })();
    </script>
</head>
<body>
    
    <header class="main-header">
        <nav class="main-nav container">
            <a href="index.html" class="logo">AlumniConnect</a>
            
            <!-- Mobile Navigation Toggle -->
            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <ul id="nav-links" class="nav-links">
                <!-- Navigation links will be populated by JavaScript -->
            </ul>
            
            <!-- Theme Toggle Button -->
            <button class="theme-toggle" id="theme-toggle" data-tooltip="Toggle Theme">
                <i class="fas fa-sun"></i>
            </button>
        </nav>
    </header>

    <main>
        <!-- Hero Section for Logged In Users -->
        <section id="loggedIn-header" class="hero-section modern-hero">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Welcome Back, Alumni!</h1>
                    <p class="hero-subtitle">Explore your personalized dashboard, connect with fellow graduates, and discover new opportunities.</p>
                    <a href="dashboard.html" class="btn btn-primary btn-large">Go to Dashboard</a>
                </div>
                <div class="hero-visual">
                    <div class="network-animation">
                        <div class="network-node"></div>
                        <div class="network-node"></div>
                        <div class="network-node"></div>
                        <div class="network-node"></div>
                        <div class="connection-line"></div>
                        <div class="connection-line"></div>
                        <div class="connection-line"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hero Section for Non-Logged In Users -->
        <section id="loggedOut-header" class="hero-section modern-hero">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">The Ultimate Alumni Network</h1>
                    <p class="hero-subtitle">More than just connections - build your career, find mentors, access exclusive opportunities, and give back to your community. All in one powerful platform.</p>
                    <div class="hero-actions">
                        <a href="signup.html" class="btn btn-primary btn-large">Join Our Network</a>
                        <a href="#features" class="btn btn-outline btn-large">Explore Features</a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="alumni-count">Loading...</span>
                            <span class="stat-label">Active Alumni</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="companies-count">Loading...</span>
                            <span class="stat-label">Companies</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="countries-count">Loading...</span>
                            <span class="stat-label">Countries</span>
                        </div>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="network-animation">
                        <div class="network-node active"></div>
                        <div class="network-node active"></div>
                        <div class="network-node active"></div>
                        <div class="network-node active"></div>
                        <div class="network-node active"></div>
                        <div class="network-node active"></div>
                        <div class="connection-line animated"></div>
                        <div class="connection-line animated"></div>
                        <div class="connection-line animated"></div>
                        <div class="connection-line animated"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Enhanced Features Section -->
        <section id="features" class="features-section enhanced-features">
            <div class="container">
                <div class="section-header">
                    <h2>Everything You Need in One Place</h2>
                    <p>Discover why we're better than LinkedIn, Graduway, and other alumni platforms</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card enhanced">
                        <div class="feature-icon">
                            <i class="fas fa-network-wired"></i>
                        </div>
                        <h3>Smart Alumni Discovery</h3>
                        <p>AI-powered matching system that connects you with the right alumni based on industry, interests, and career goals.</p>
                        <div class="feature-highlight">Beyond basic search</div>
                    </div>
                    <div class="feature-card enhanced">
                        <div class="feature-icon">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <h3>Career Acceleration</h3>
                        <p>Exclusive job opportunities, salary insights, interview prep, and career path guidance from successful alumni.</p>
                        <div class="feature-highlight">Premium career tools</div>
                    </div>
                    <div class="feature-card enhanced">
                        <div class="feature-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h3>Mentorship Matching</h3>
                        <p>Advanced algorithm matches you with ideal mentors and mentees based on compatibility and goals.</p>
                        <div class="feature-highlight">Smart pairing system</div>
                    </div>
                    <div class="feature-card enhanced">
                        <div class="feature-icon">
                            <i class="fas fa-globe-americas"></i>
                        </div>
                        <h3>Global Community</h3>
                        <p>Connect with alumni worldwide through virtual events, regional chapters, and international opportunities.</p>
                        <div class="feature-highlight">Worldwide network</div>
                    </div>
                    <div class="feature-card enhanced">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Success Analytics</h3>
                        <p>Track your networking progress, career growth, and impact within the alumni community.</p>
                        <div class="feature-highlight">Data-driven insights</div>
                    </div>
                    <div class="feature-card enhanced">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Verified Network</h3>
                        <p>All alumni profiles are verified through university records, ensuring authentic and trustworthy connections.</p>
                        <div class="feature-highlight">100% verified</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="features-section">
            <div class="container">
                <h2 class="section-title">What You Can Do</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-user-friends"></i>
                        <h3>Alumni Directory</h3>
                        <p>Reconnect with old classmates and find alumni in your industry. Search by graduation year, location, or profession.</p>
                        <a href="directory.html" class="feature-link">Browse Directory</a>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-briefcase"></i>
                        <h3>Career Opportunities</h3>
                        <p>Discover job postings and career advice from the alumni community. Get referrals and insider insights.</p>
                        <a href="jobs.html" class="feature-link">View Jobs</a>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-calendar-alt"></i>
                        <h3>Events & Reunions</h3>
                        <p>Stay up-to-date with upcoming events and special reunions. Network and celebrate achievements together.</p>
                        <a href="events.html" class="feature-link">See Events</a>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-comments"></i>
                        <h3>Community Discussions</h3>
                        <p>Join conversations, share experiences, and get advice from fellow alumni in our discussion threads.</p>
                        <a href="threads.html" class="feature-link">Join Discussions</a>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-graduation-cap"></i>
                        <h3>Mentorship Program</h3>
                        <p>Connect experienced professionals with recent graduates. Share knowledge and accelerate careers.</p>
                        <a href="mentors.html" class="feature-link">Find Mentors</a>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-heart"></i>
                        <h3>Give Back</h3>
                        <p>Support current students and your alma mater through volunteering, donations, and sharing your expertise.</p>
                        <a href="give-back.html" class="feature-link">Get Involved</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Success Stories Section -->
        <section class="success-stories-section">
            <div class="container">
                <div class="section-header">
                    <h2>Alumni Success Stories</h2>
                    <p>See how our platform has transformed careers and built lasting connections</p>
                </div>
                <div class="stories-grid">
                    <div class="story-card">
                        <div class="story-image">
                            <div class="story-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                        </div>
                        <div class="story-content">
                            <blockquote>"Through AlumniConnect, I found my dream job and three incredible mentors. The platform's smart matching helped me connect with the right people at the right time."</blockquote>
                            <div class="story-author">
                                <strong>Sarah Chen</strong>
                                <span>Software Engineer at Google, Class of 2020</span>
                            </div>
                        </div>
                    </div>
                    <div class="story-card">
                        <div class="story-image">
                            <div class="story-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                        </div>
                        <div class="story-content">
                            <blockquote>"I've mentored over 20 students through this platform. The matching algorithm is incredibly accurate - I only get paired with mentees whose goals align with my expertise."</blockquote>
                            <div class="story-author">
                                <strong>Michael Rodriguez</strong>
                                <span>VP of Marketing at Tesla, Class of 2015</span>
                            </div>
                        </div>
                    </div>
                    <div class="story-card">
                        <div class="story-image">
                            <div class="story-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                        </div>
                        <div class="story-content">
                            <blockquote>"From finding co-founders to securing funding, this network has been instrumental in launching my startup. The quality of connections is unmatched."</blockquote>
                            <div class="story-author">
                                <strong>Priya Patel</strong>
                                <span>CEO & Founder of TechStart, Class of 2018</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2>Ready to Unlock Your Potential?</h2>
                    <p>Join thousands of alumni who are already leveraging the power of our platform</p>
                    <div class="cta-actions">
                        <a href="signup.html" class="btn btn-primary btn-large">Get Started Now</a>
                        <a href="about.html" class="btn btn-outline btn-large">Learn More</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="stats-section">
            <div class="container">
                <h2 class="section-title">Our Growing Community</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <i class="fas fa-users"></i>
                        <div class="stat-number" id="alumni-stats">Loading...</div>
                        <div class="stat-label">Active Alumni</div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-briefcase"></i>
                        <div class="stat-number" id="jobs-stats">Loading...</div>
                        <div class="stat-label">Job Opportunities</div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-globe-americas"></i>
                        <div class="stat-number" id="countries-stats">Loading...</div>
                        <div class="stat-label">Countries Represented</div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-calendar-alt"></i>
                        <div class="stat-number" id="events-stats">Loading...</div>
                        <div class="stat-label">Events This Year</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 AlumniConnect. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/home.js"></script>
    <script src="js/mobile-navigation.js"></script>
    <script src="js/accessibility-enhancements.js"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/sw.js');
                    console.log('ServiceWorker registered: ', registration);
                    
                    // Listen for updates
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                // New content available, show update notification
                                if (window.toastManager) {
                                    window.toastManager.show('New version available! Refresh to update.', 'info');
                                }
                            }
                        });
                    });
                } catch (error) {
                    console.log('ServiceWorker registration failed: ', error);
                }
            });
        }

        // Install prompt for PWA
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button or notification
            if (window.toastManager) {
                const installToast = window.toastManager.show(
                    'Install Alumni Connect for the best experience!', 
                    'info', 
                    0 // Don't auto-hide
                );
                
                // Add click handler to install
                installToast.addEventListener('click', async () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        const { outcome } = await deferredPrompt.userChoice;
                        console.log(`User response to the install prompt: ${outcome}`);
                        deferredPrompt = null;
                        window.toastManager.hide(installToast);
                    }
                });
            }
        });

        // Track installation
        window.addEventListener('appinstalled', (evt) => {
            console.log('Alumni Connect was installed');
            if (window.toastManager) {
                window.toastManager.show('Alumni Connect installed successfully!', 'success');
            }
        });

        // Enhanced page loading with animations
        document.addEventListener('DOMContentLoaded', () => {
            // Add loading animations to elements
            const animateElements = document.querySelectorAll('.feature-card, .story-card, .stat-item');
            
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fadeInUp');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            animateElements.forEach((el) => {
                observer.observe(el);
            });

            // Enhanced counter animations for stats
            const animateCounters = () => {
                const counters = document.querySelectorAll('.stat-number');
                counters.forEach(counter => {
                    if (counter.textContent !== 'Loading...') {
                        const target = parseInt(counter.textContent.replace(/,/g, ''));
                        if (!isNaN(target)) {
                            let current = 0;
                            const increment = target / 100;
                            const timer = setInterval(() => {
                                current += increment;
                                if (current >= target) {
                                    counter.textContent = target.toLocaleString();
                                    clearInterval(timer);
                                } else {
                                    counter.textContent = Math.floor(current).toLocaleString();
                                }
                            }, 20);
                        }
                    }
                });
            };

            // Animate counters when stats section is visible
            const statsSection = document.querySelector('.stats-section');
            if (statsSection) {
                const statsObserver = new IntersectionObserver((entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            setTimeout(animateCounters, 500);
                            statsObserver.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                
                statsObserver.observe(statsSection);
            }

            // Theme toggle icon update
            const updateThemeIcon = () => {
                const themeToggle = document.getElementById('theme-toggle');
                const icon = themeToggle?.querySelector('i');
                if (!icon) return;

                const theme = localStorage.getItem('theme') || 'auto';
                const isDark = document.documentElement.classList.contains('dark-mode') ||
                              (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches);
                
                icon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
                themeToggle.setAttribute('data-tooltip', 
                    theme === 'auto' ? `Auto (${isDark ? 'Dark' : 'Light'})` : 
                    theme === 'dark' ? 'Dark Mode' : 'Light Mode'
                );
            };

            // Update theme icon on load and theme changes
            updateThemeIcon();
            window.addEventListener('themeChanged', updateThemeIcon);
            
            // Watch for system theme changes
            if (window.matchMedia) {
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateThemeIcon);
            }
        });

        // Error handling for offline scenarios
        window.addEventListener('online', () => {
            if (window.toastManager) {
                window.toastManager.show('Connection restored!', 'success');
            }
        });

        window.addEventListener('offline', () => {
            if (window.toastManager) {
                window.toastManager.show('You are offline. Some features may be limited.', 'warning');
            }
        });
    </script>
</body>
</html>